import{u as w,r as o,j as e,L as g}from"./index-CYVxox-v.js";const b="_container_12oq1_1",E="_form_12oq1_19",v="_footer_12oq1_63",_="_errorText_12oq1_113",a={container:b,form:E,footer:v,errorText:_};function L({users:c,setUserLoggedIn:h}){const j=w(),[s,f]=o.useState({username:"",password:""}),[m,u]=o.useState(""),[l,i]=o.useState(""),t=o.useRef(null),n=o.useRef(null);o.useEffect(()=>{const r=d=>{d.key==="Enter"&&p()};return document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}},[s.username,s.password]),o.useEffect(()=>{var r;s.password.length>0&&((r=t.current)==null||r.style.removeProperty("border"),i(""))},[s.password]),o.useEffect(()=>{var r;s.username.length>0&&((r=n.current)==null||r.style.removeProperty("border"),u(""))},[s.username]);function p(){var d,x;let r=0;if(i(""),s.username.length===0)u("Enter username"),n.current&&(n.current.focus(),n.current.style.outline="none",n.current.style.border="1px solid red");else if(c.length==0)u("User not found"),n.current&&(n.current.focus(),n.current.style.outline="none",n.current.style.border="1px solid red");else for(const y in c)c[y].username!==s.username?(r++,r===c.length&&(u("User not found"),n.current&&(n.current.focus(),n.current.style.outline="none",n.current.style.border="1px solid red"))):s.password.length===0?((d=t.current)==null||d.focus(),t.current&&(i("Enter password"),t.current.style.outline="none",t.current.style.border="1px solid red")):c[r].password!==s.password?(i("Incorrect password"),(x=t.current)==null||x.focus(),t.current&&(f({...s,password:""}),t.current.style.outline="none",t.current.style.border="1px solid red")):(h(r),j("/finantial_control"))}return e.jsx("div",{className:a.container,children:e.jsxs("main",{className:a.form,children:[e.jsx("h1",{children:"Log In"}),e.jsxs("form",{children:[e.jsx("label",{children:"Username:"}),e.jsx("br",{}),e.jsx("input",{ref:n,type:"text",value:s.username,onChange:r=>f({...s,username:r.target.value})}),m&&e.jsx("p",{className:a.errorText,children:e.jsx("em",{children:m})}),!m&&e.jsx("br",{}),e.jsx("br",{}),e.jsx("label",{children:"Password:"}),e.jsx("br",{}),e.jsx("input",{ref:t,type:"password",value:s.password,onChange:r=>f({...s,password:r.target.value}),className:l?a.errorInput:""}),l&&e.jsx("p",{className:a.errorText,children:e.jsx("em",{children:l})})]}),e.jsx("button",{onClick:p,style:{marginTop:l?0:"20px"},children:"Enter"}),e.jsx("br",{}),e.jsx(g,{to:"/sign-up",children:"Don't have an account?"}),e.jsxs("footer",{className:a.footer,children:["Â© ",new Date().getFullYear()," Limitless"]})]})})}export{L as default};
