import{u as g,r as o,j as e,L as E}from"./index-CbNhpC_9.js";const b="_container_12oq1_1",v="_form_12oq1_19",_="_footer_12oq1_63",N="_errorText_12oq1_113",a={container:b,form:v,footer:_,errorText:N};function L({users:c,userLoggedIn:p,setUserLoggedIn:j}){const y=g(),[s,f]=o.useState({username:"",password:""}),[m,l]=o.useState(""),[u,i]=o.useState(""),t=o.useRef(null),n=o.useRef(null);o.useEffect(()=>{const r=d=>{d.key==="Enter"&&x()};return document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}},[s.username,s.password]),o.useEffect(()=>{var r;s.password.length>0&&((r=t.current)==null||r.style.removeProperty("border"),i(""))},[s.password]),o.useEffect(()=>{var r;s.username.length>0&&((r=n.current)==null||r.style.removeProperty("border"),l(""))},[s.username]);function x(){var d,h;let r=0;if(i(""),s.username.length===0)l("Enter username"),n.current&&(n.current.focus(),n.current.style.outline="none",n.current.style.border="1px solid red");else if(c.length==0)l("User not found"),n.current&&(n.current.focus(),n.current.style.outline="none",n.current.style.border="1px solid red");else for(const w in c)c[w].username!==s.username?(r++,r===c.length&&(l("User not found"),n.current&&(n.current.focus(),n.current.style.outline="none",n.current.style.border="1px solid red"))):s.password.length===0?((d=t.current)==null||d.focus(),t.current&&(i("Enter password"),t.current.style.outline="none",t.current.style.border="1px solid red")):c[r].password!==s.password?(i("Incorrect password"),(h=t.current)==null||h.focus(),t.current&&(f({...s,password:""}),t.current.style.outline="none",t.current.style.border="1px solid red")):j(r)}return o.useEffect(()=>{p!==null&&y("/finantial_control")},[p]),e.jsx("div",{className:a.container,children:e.jsxs("main",{className:a.form,children:[e.jsx("h1",{children:"Log In"}),e.jsxs("form",{children:[e.jsx("label",{children:"Username:"}),e.jsx("br",{}),e.jsx("input",{ref:n,type:"text",value:s.username,onChange:r=>f({...s,username:r.target.value})}),m&&e.jsx("p",{className:a.errorText,children:e.jsx("em",{children:m})}),!m&&e.jsx("br",{}),e.jsx("br",{}),e.jsx("label",{children:"Password:"}),e.jsx("br",{}),e.jsx("input",{ref:t,type:"password",value:s.password,onChange:r=>f({...s,password:r.target.value}),className:u?a.errorInput:""}),u&&e.jsx("p",{className:a.errorText,children:e.jsx("em",{children:u})})]}),e.jsx("button",{onClick:x,style:{marginTop:u?0:"20px"},children:"Enter"}),e.jsx("br",{}),e.jsx(E,{to:"/sign-up",children:"Don't have an account?"}),e.jsxs("footer",{className:a.footer,children:["Â© ",new Date().getFullYear()," Limitless"]})]})})}export{L as default};
